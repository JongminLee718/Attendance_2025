<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>user.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">

#include "user.h"
#include "grade.h"

using namespace std;

<span style = "background-color:#dfd">void soccerUser::SetUserData(std::string name, std::string weekday) {
	if (user.count(name) == 0) {
		user.insert({ name, ++userCnt });
		names[userCnt] = name;</span>
	}
<span style = "background-color:#dfd">	SetSpecialDayCnt(weekday, user[name]);
	userWeekdayCnt[user[name]][GetWeekdayIdx(weekday)] += 1;
	userPoint[user[name]] += GetWeekdayPoint(weekday);
}</span>

int soccerUser::GetWeekdayPoint(std::string&amp; weekday)
<span style = "background-color:#dfd">{
	if (weekday == "monday" || weekday == "tuesday" || weekday == "thursday" || weekday == "friday") return 1;
	if (weekday == "saturday" || weekday == "sunday") return 2;
	if (weekday == "wednesday") return 3;
	return 0;
}</span>

void soccerUser::SetSpecialPoint()
<span style = "background-color:#dfd">{
	for (int userIdx = 1; userIdx &lt;= userCnt; userIdx++) {
		if (userWeekdayCnt[userIdx][WED] &gt;= SPECIAL_DAY_TH) userPoint[userIdx] += SPECIAL_DAY_POINT;
		if (userWeekdayCnt[userIdx][SAT] + userWeekdayCnt[userIdx][SUN] &gt;= SPECIAL_DAY_TH) userPoint[userIdx] += SPECIAL_DAY_POINT;
	}
}</span>

void soccerUser::SetSpecialDayCnt(std::string&amp; weekday, int curUser)
<span style = "background-color:#dfd">{
	if (weekday == "wednesday") wedCnt[curUser] += 1;
	if (weekday == "saturday" || weekday == "sunday") weekenCnt[curUser] += 1;
}</span>

void soccerUser::SetUserGrade()
<span style = "background-color:#dfd">{
	for (int userIdx = 1; userIdx &lt;= userCnt; userIdx++) {</span>
		gradeFactory gradeFactory;
<span style = "background-color:#dfd">		grade* grade = gradeFactory.getGradeInstance(userPoint[userIdx]);
		userGrade[userIdx] = grade-&gt;getGrade();
	}
}</span>

<span style = "background-color:#dfd">int soccerUser::GetUserCnt() {
	return userCnt;
}</span>

<span style = "background-color:#dfd">int soccerUser::GetUserGrade(std::string name) {
	int userIdx = user[name];
	return userGrade[userIdx];
}</span>

<span style = "background-color:#dfd">int soccerUser::GetUserPoint(std::string name) {
	int userIdx = user[name];
	return userPoint[userIdx];
}</span>

void soccerUser::PrintUserResult()
<span style = "background-color:#dfd">{
	for (int userIdx = 1; userIdx &lt;= userCnt; userIdx++) {
		cout &lt;&lt; "NAME : " &lt;&lt; names[userIdx] &lt;&lt; ", ";
		cout &lt;&lt; "POINT : " &lt;&lt; userPoint[userIdx] &lt;&lt; ", ";
		cout &lt;&lt; "GRADE : ";</span>

<span style = "background-color:#dfd">		if (userGrade[userIdx] == GOLD) cout &lt;&lt; "GOLD" &lt;&lt; "\n";
		else if (userGrade[userIdx] == SILVER) cout &lt;&lt; "SILVER" &lt;&lt; "\n";
		else cout &lt;&lt; "NORMAL" &lt;&lt; "\n";
	}
}</span>

int soccerUser::PrintRemovedPlayer()
<span style = "background-color:#dfd">{
	int result = 0;
	std::cout &lt;&lt; "\n";
	std::cout &lt;&lt; "Removed player\n";
	std::cout &lt;&lt; "==============\n";
	for (int userIdx = 1; userIdx &lt;= userCnt; userIdx++) {
		if (userGrade[userIdx] == NORMAL &amp;&amp; wedCnt[userIdx] == 0 &amp;&amp; weekenCnt[userIdx] == 0) {
			std::cout &lt;&lt; names[userIdx] &lt;&lt; "\n";
			result++;</span>
		}
<span style = "background-color:#dfd">	}
	return result;
}</span>
</pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>